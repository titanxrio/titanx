<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Titan Service - Home</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root { --accent:#00d4ff; }
* { box-sizing:border-box; }
body{margin:0;background:#0e0e0e;color:#fff;font-family:'Poppins',sans-serif;overflow-x:hidden;}
/* header nav */
header{display:flex;justify-content:space-between;align-items:center;padding:20px 40px;background:transparent;position:fixed;width:100%;top:0;z-index:100;}
header h1{font-size:2rem;font-weight:800;letter-spacing:2px;margin:0;}
nav a{margin-left:20px;text-decoration:none;color:#fff;font-weight:600;position:relative;}
nav a::after{content:'';position:absolute;left:0;bottom:-4px;height:2px;width:0;background:var(--accent);transition:width .3s;}
nav a:hover::after{width:100%;}
/* hero */
.hero{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;background:linear-gradient(135deg,#0f0f0f,#1a1a1a);}
.hero h2{font-size:3rem;margin:0 0 10px;font-weight:800;}
.hero p{max-width:640px;font-size:1.1rem;margin:0 auto 30px;}
.btn{display:inline-block;padding:14px 36px;border:2px solid var(--accent);border-radius:40px;text-transform:uppercase;font-weight:600;color:#fff;text-decoration:none;transition:.35s;}
.btn:hover{background:var(--accent);color:#000;transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,212,255,.4);}
.scrolldown{position:absolute;bottom:30px;font-size:.9rem;animation:bounce 2s infinite ease-in-out;}
@keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0);}40%{transform:translateY(-8px);}60%{transform:translateY(-4px);}}
/* posts section */
section#posts{padding:120px 20px 60px;min-height:100vh;background:#111;}
section#posts h2{font-size:2.4rem;text-align:center;margin:0 0 40px;font-weight:800;}
.post{max-width:800px;margin:40px auto;background:#181818;padding:30px 40px;border-radius:24px;box-shadow:0 12px 28px rgba(0,0,0,.45);opacity:0;transform:translateY(30px);transition:.6s ease;}
.post.visible{opacity:1;transform:translateY(0);}
.post h3{margin-top:0;font-size:1.8rem;color:var(--accent);}
.post pre{white-space:pre-wrap;font-family:inherit;line-height:1.6;}
footer{padding:40px 20px;text-align:center;background:#0e0e0e;font-size:.9rem;color:#888;}
</style>
</head>
<body>

<header>
  <h1>TITAN SERVICE</h1>
  <nav>
    <a href="#home">Home</a>
    <a href="#posts">Posts</a>
  </nav>
</header>

<section class="hero" id="home">
  <h2>Code Like a Titan</h2>
  <p>Welcome to Titan Service – forging invincible software and hacking the impossible with unrelenting style. Programming, cybersecurity, and SDR radio frequencies are our playground.</p>
  <a href="#posts" class="btn">Enter the Knowledge Base</a>
  <span class="scrolldown">▼ Scroll</span>
</section>

<section id="posts">
  <h2>Educational Arsenal</h2>
  <div id="posts-container"></div>
</section>

<footer>
  © <span id="year"></span> Titan Service. All rights reserved.
</footer>

<script>
// YEAR
document.getElementById('year').textContent = new Date().getFullYear();

// FETCH POSTS
async function loadPosts() {
  try {
    const response = await fetch('Post/');
    if (!response.ok) throw new Error('Directory listing not accessible');
    const html = await response.text();
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, 'text/html');
    const files = [...doc.querySelectorAll('a')]
                  .map(a => a.getAttribute('href'))
                  .filter(href => href.endsWith('.txt'));

    for (const file of files) {
      const textRes = await fetch('Post/' + file);
      const content = await textRes.text();
      const title = file.replace('.txt','');
      renderPost(title, content);
    }

    // reveal animation after content loaded
    document.querySelectorAll('.post').forEach((el,i)=>setTimeout(()=>el.classList.add('visible'), i*100));
  } catch (err) {
    console.error(err);
    document.getElementById('posts-container').innerHTML = '<p style="text-align:center;">No posts available.</p>';
  }
}

function renderPost(title, content) {
  const article = document.createElement('article');
  article.className = 'post';
  article.innerHTML = `
    <h3>${title}</h3>
    <pre>${escapeHtml(content)}</pre>
  `;
  document.getElementById('posts-container').appendChild(article);
}

// Escape HTML to prevent injection
function escapeHtml(str){
  return str.replace(/[&<>"']/g, function(m){
    return ({
      '&':'&amp;',
      '<':'&lt;',
      '>':'&gt;',
      '"':'&quot;',
      "'":'&#039;'
    })[m];
  });
}

// INIT
window.addEventListener('DOMContentLoaded', loadPosts);
</script>

</body>
</html>
